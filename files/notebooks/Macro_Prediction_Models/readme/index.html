<!doctype html>
<html lang="en" class="no-js">
  <head>
    

<meta charset="utf-8">


<!-- begin SEO -->









<title>Prediction Models - Home</title>







<meta property="og:locale" content="en-US">
<meta property="og:site_name" content="Home">
<meta property="og:title" content="Prediction Models">


  <link rel="canonical" href="https://SmartTransit.ai/files/notebooks/Macro_Prediction_Models/readme/">
  <meta property="og:url" content="https://SmartTransit.ai/files/notebooks/Macro_Prediction_Models/readme/">























<!-- end SEO -->

  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">
 

  <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500" rel="stylesheet">
  <link href="https://SmartTransit.ai/css/stylish-portfolio.css" rel="stylesheet">


    

<!-- start custom head snippets -->
<!-- 
<link rel="apple-touch-icon" sizes="57x57" href="https://SmartTransit.ai/images/apple-touch-icon-57x57.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="60x60" href="https://SmartTransit.ai/images/apple-touch-icon-60x60.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="72x72" href="https://SmartTransit.ai/images/apple-touch-icon-72x72.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="76x76" href="https://SmartTransit.ai/images/apple-touch-icon-76x76.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="114x114" href="https://SmartTransit.ai/images/apple-touch-icon-114x114.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="120x120" href="https://SmartTransit.ai/images/apple-touch-icon-120x120.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="144x144" href="https://SmartTransit.ai/images/apple-touch-icon-144x144.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="152x152" href="https://SmartTransit.ai/images/apple-touch-icon-152x152.png?v=M44lzPylqQ">
<link rel="apple-touch-icon" sizes="180x180" href="https://SmartTransit.ai/images/apple-touch-icon-180x180.png?v=M44lzPylqQ">
<link rel="icon" type="image/png" href="https://SmartTransit.ai/images/favicon-32x32.png?v=M44lzPylqQ" sizes="32x32">
<link rel="icon" type="image/png" href="https://SmartTransit.ai/images/android-chrome-192x192.png?v=M44lzPylqQ" sizes="192x192">
<link rel="icon" type="image/png" href="https://SmartTransit.ai/images/favicon-96x96.png?v=M44lzPylqQ" sizes="96x96">
<link rel="icon" type="image/png" href="https://SmartTransit.ai/images/favicon-16x16.png?v=M44lzPylqQ" sizes="16x16">
<link rel="manifest" href="https://SmartTransit.ai/images/manifest.json?v=M44lzPylqQ">
<link rel="mask-icon" href="https://SmartTransit.ai/images/safari-pinned-tab.svg?v=M44lzPylqQ" color="#000000">
<link rel="shortcut icon" href="/images/favicon.ico?v=M44lzPylqQ">
<meta name="msapplication-TileColor" content="#000000">
<meta name="msapplication-TileImage" content="https://SmartTransit.ai/images/mstile-144x144.png?v=M44lzPylqQ">
<meta name="msapplication-config" content="https://SmartTransit.ai/images/browserconfig.xml?v=M44lzPylqQ"> -->

<!-- end custom head snippets -->

<!-- Global site tag (gtag.js) - Google Analytics -->
<!-- <script async src="https://www.googletagmanager.com/gtag/js?id=UA-178278850-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-178278850-1');
</script> -->
    
    
  </head>

  <body id="page-top">

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->
    

<div class="container-fluid align-left  bg-dark text-white" id="banner">
  <div class="row">
    <div class="col-12 masthead2">
      <h3 class="mdc-typography--headline3 p-2" ><a href="https://SmartTransit.ai/">SmartTransit.ai </a>
       <div class="d-none d-lg-inline"> - Optimizing Multi-modal Mixed Fleet Transit Operations</div></h3> 
    </div>
</div>
</div>
 



  <!-- This finds the current page so it can be highlighted. -->



    
        
    


    


    


    


    


    


    


    


<!-- Navigation -->
<a class="menu-toggle rounded" href="#">
  <i class="fas fa-bars"></i>
</a>
<!-- Then we build the nav bar. -->
<nav id="sidebar-wrapper">
    <ul  class="sidebar-nav">
    
        
            
        
        
        
        <li class="sidebar-nav-item">
            <a  class="js-scroll-trigger text-primary"  href="/">Home</a>
            <ul>
                
                <li class="sidebar-nav-item text-white"><a  class="js-scroll-trigger"  href="/#aboutus">About Us</a></li>
                
                <li class="sidebar-nav-item text-white"><a  class="js-scroll-trigger"  href="/#research">Focus Areas</a></li>
                
                <li class="sidebar-nav-item text-white"><a  class="js-scroll-trigger"  href="/#team">Team</a></li>
                
                <li class="sidebar-nav-item text-white"><a  class="js-scroll-trigger"  href="/#activities">Activities</a></li>
                
            </ul>
        </li>
        
    
        
          
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li class="sidebar-nav-item">
            <a  class="js-scroll-trigger"  href="/energy.html">HD-EMMA</a>
            <ul>
                
                <li class="sidebar-nav-item text-white"><a  class="js-scroll-trigger"  href="/energy/aaai21.html">AAAI-21 paper</a></li>
                
            </ul>
        </li>
        
    
        
          
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li  class="sidebar-nav-item" ><a  class="js-scroll-trigger"  href="/publications/">Publications</a></li>
        
    
        
          
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li  class="sidebar-nav-item" ><a  class="js-scroll-trigger"  href="/talks/">Talks</a></li>
        
    
        
          
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li  class="sidebar-nav-item" ><a  class="js-scroll-trigger"  href="/energydashboard/">CARTA Energy Dashboard</a></li>
        
    
        
          
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li  class="sidebar-nav-item" ><a  class="js-scroll-trigger"  href="/wegodashboard/">WeGo Occupancy Dashboard</a></li>
        
    
        
          
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li  class="sidebar-nav-item" ><a  class="js-scroll-trigger"  href="/cartadashboard/">CARTA Occupancy Dashboard</a></li>
        
    
        
          
            <!-- We have to declare it 'null' to ensure it doesn't propagate. -->
            
        
        
        
        <li  class="sidebar-nav-item" ><a  class="js-scroll-trigger"  href="/post/">Posts</a></li>
        
    
    </ul>
</nav>

    





<main>
<div class="container-fluid d-flex justify-content-center p-0 m-0">
<div class="content-section col-lg-12 col-xl-8  text-justify">   <h2 id="prediction-models">Prediction Models</h2>

<h1 id="features-for-training">Features for Training:</h1>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1.	Distance of a sample
2.	One-hot encoded different road types  (primary, primary-link, secondary, secondary-link,  tertiary, tertiary-link,  trunk, service,  residential, track, unclassified, motorway, motorway-link etc)
3.	Change in elevation
4.	Weather features (Humidity, precipitation, temperature, Visibility, Wind-speed)
5.	Traffic data (Day of week, Time of day, Speed ratio between actual speed limit and free flow speed, Jam factor of the road segment)
</code></pre></div></div>

<p>**Based on empirical results:</p>

<p>For diesel buses, we achieve best results using 21 predictor variables: travel distance, 14 road-type features, elevation change, 3 weather features, and 2 traffic features.
For electric buses, we achieve best results using 23 predictor variables, which include 2 more weather features.</p>

<h1 id="target-feature">Target Feature:</h1>

<p>Energy Consumption (gallons or Watt-seconds)</p>

<h1 id="artificial-neural-network">Artificial Neural Network:</h1>

<p>Based on our experiments, we found that different network structures work best for diesel and electric vehicles.</p>

<p>For Electric vehicles, the best model has </p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>•	One input layer 	
	- Has one neuron for each predictor variable 
•	Two hidden layers  	
	- Have 100 neurons and 80 neurons, respectively 	
	- Both layers have ‘sigmoid’ activation function 
•	One output layer.  	
	- Linear activation function 
</code></pre></div></div>

<p>The model is optimized using adam optimizer with a default learning rate 0.001</p>

<p>For Diesel vehicles, the best model has </p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>•	One input layer 	
	- Has one neuron for each predictor variable 
•	Five hidden layers  	
	- 400, 200, 100, 50, and 25 neurons, respectively. 	
	- All the layers have ‘sigmoid’ activation function 
•	One output layer.  	
	- Linear activation function 
</code></pre></div></div>

<p>The model is optimized using adam optimizer with a default learning rate 0.001.</p>

<h1 id="decision-tree">Decision Tree:</h1>

<p>We use the implementation provided by the scikit-learn Python library. The maximum depth of the tree is set to the total number of features in order to reduce memory consumption. To avoid overfitting, we experimented with different numbers to find the best fit for the minimum number of samples required to split an internal node. The value can either be a integer indicating the minimum number or a floating point value  indicating fraction and ceil(min_samples_split * n_samples) are the minimum number of samples for each split. For Electric vehicles, min_samples_leaf = 8 performs better whereas min_samples_leaf=0.002 works best for diesel.</p>

<h1 id="linear-regression">Linear Regression: </h1>

<p>Standard multiple Linear Regression model. We evaluate the model based on R-square value and Mean Squared Error (MSE).</p>
 </div>
</div> 
 </main>




    
    
 <footer class="footer text-center">
    <div class="container">
      <ul class="list-inline mb-5">
         
              
        
        <li class="list-inline-item">
          <a class="social-link rounded-circle text-white" href="http://github.com/SmartTransit-ai">
            <i class="icon-social-github"></i>
          </a>
        </li>
        
      </ul>
      <p class="text-muted small mb-0">Copyright &copy; <a href="https://scopelab.ai">ScopeLab</a> 2020</p>
    </div>
  </footer>
   

      <!-- Scroll to Top Button-->
  <a class="scroll-to-top rounded js-scroll-trigger" href="#page-top">
    <i class="fas fa-angle-up"></i>
  </a>

    
 <!-- Bootstrap core JavaScript -->
 <script src="https://SmartTransit.ai/js/jquery/jquery.min.js"></script>
 <script src="https://SmartTransit.ai/js/bootstrap/js/bootstrap.bundle.min.js"></script>

 <!-- Plugin JavaScript -->
 <script src="https://SmartTransit.ai/js/jquery-easing/jquery.easing.min.js"></script>

 <!-- Custom scripts for this template -->
 <script src="https://SmartTransit.ai/js/stylish-portfolio.min.js"></script>

 

  </body>
</html>
